<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--<link rel="stylesheet" type="text/css" media="screen" href="main.css" />-->
    <script src="assets/javascript/dice.js"></script>
    <!--<script src="assets/javascript/modifiers.js"></script>-->
    <script src="assets/javascript/weapons.js"></script>
    <script src="assets/javascript/armor.js"></script>
    <script src="assets/javascript/character.js"></script>
    <script src="assets/javascript/combat.js"></script>
    <!---<script src="assets/javascript/testinit.js"></script>-->

</head>
<body>
    <h2>For now, Open the Console and Click the fight button to attack your enemy</h2>
    <button id = "fight">fight</button>
</body>
<!--The following is for temporary testing purposes only.  WARNING: Sloppy code-->
<script>
    var weapons = ["unarmed", "longsword", "club", "spear"]
    var enemy;
    var enemyHD;
    var enemyHP;
    var enemyAC;
    var player;
    var playerHP;
    var playerAC;
    function init(){
        
        player = new Character("player", true, 12, 14, {"yp":"tp"});
        var selector = dice.throwD4() - 1;
        player.weapon = weapon[weapons[selector]];
        enemyHD = 3;
        enemyHP = (dice.throwD6()) * enemyHD;
        enemy = new Character("bad guy", false, 12, enemyHP, {});
        selector = dice.throwD4() - 1;
        enemy.weapon = weapon[weapons[selector]];
        console.log(player);
        console.log(enemy);
        console.log("Youve spawned with " + player.HP + " hit points armed with a " + player.weapon.name);
        console.log("In front of you stands a " + enemy.name + " with a " + enemy.weapon.name);


    };



    init();
    document.getElementById("fight").addEventListener("click", function(event){

            combat.fight(player,enemy);
            if(player.alive === false){
                init();
            }else if (enemy.alive === false){
                enemyHP = (dice.throwD6()) * enemyHD;
                enemy = new Character("bad guy", false, 12, enemyHP, {});
                selector = dice.throwD4() - 1;
                enemy.weapon = weapon[weapons[selector]];
                console.log(enemy);
                console.log("a new bad guy appears");
                console.log("In front of you stands a " + enemy.name + " with a " + enemy.weapon.name);
            }
        
    });

    
        
        </script>
</html>