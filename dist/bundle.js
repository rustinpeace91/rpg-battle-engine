!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var a={throwD4:function(){var e=4*Math.random()+1;return Math.floor(e)},throwD6:function(){var e=6*Math.random()+1;return Math.floor(e)},throwD8:function(){var e=8*Math.random()+1;return Math.floor(e)},throwD12:function(){var e=12*Math.random()+1;return Math.floor(e)},throwD10:function(){var e=10*Math.random()+1;return Math.floor(e)},throwD20:function(){var e=20*Math.random()+1;return Math.floor(e)},multiroll(e,t){for(var n=0,o=0;o<t;o++)n+=a[e]();return n}},o=a,r={list:[],weapon:{unarmed:{name:"unarmed",type:"punching",weight:0,toAttack:0,range:1,damage:function(){return parseInt(o.throwD4()/2)}},longsword:{name:"longsword",type:"slashing",weight:5,toAttack:0,range:1,damage:function(){return o.throwD8()}},club:{name:"club",type:"crushing",weight:10,toAttack:0,range:1,damage:function(){return o.throwD4()+2}},spear:{name:"spear",type:"piercing",weight:4,toAttack:1,range:2,damage:function(){return o.throwD6()}},battleaxe:{name:"battleaxe",type:"cushing",weight:5,toAttack:0,range:1,damage:function(){return o.multiroll("throwD4",2)}}},generateList:function(){for(var e in this.weapon)this.list.push(this.weapon[e].name)}},l={unarmored:{name:"unarmored",toAC:0},leather:{name:"leather",toAC:1},chain:{name:"chain",toAC:2},plate:{name:"plate",toAC:3}},s=function(e,t,n){this.name=e,this.main=t,this.alive=!0,this.baseAC=10,this.HP=n,this.armor=l.unarmored,this.AC=this.baseAC+this.armor.toAC,this.weapon=r.weapon.unarmed,this.toAttack=this.weapon.toAttack,this.exp=0,this.level=1,this.lastlevel=1,this.nextLevel=this.lastLevel+1e3*this.level,this.gainexp=function(e){this.exp+=e},this.restat=function(e){this.AC=this.baseAC+this.armor.toAC,this.toAttack=this.weapon.toAttack},this.levelup=function(){},this.takeHit=function(e){this.HP-=e,this.HP<=0&&(this.alive=!1,console.log(this.name+" has died"))}},i={generateHero:function(e,t,n){var a=parseInt(Math.random()*r.list.length),i=new s(e,!0,10);switch(i.profession=t,t){case"swordsman":i.armor=l.leather,i.weapon=r.weapon.longsword,i.HP+=o.throwD6(),i.restat();break;case"pikeman":i.armor=l.leather,i.weapon=r.weapon.spear,console.log(i.HP),i.HP+=o.throwD6(),i.restat();break;case"brawler":i.HP+=o.throwD10();break;case"peasent":i.HP+=o.throwD6(),i.weapon=r.weapon.club,i.restat();break;case"random":i.HP+=o.throwD6(),i.AC+=i.AC+o.throwD4(),i.weapon=r.weapon[r.list[a]],i.restat();default:console.log("not valid profession"),console.log(t)}return i},generateEnemy:function(e,t){var n=parseInt(Math.random()*r.list.length),a=o.multiroll("throwD6",t),l=new s("bad guy",!1,a);return l.weapon=r.weapon[r.list[n]],l}},u={updateConsole:function(e){var t=document.createElement("P"),n=document.createTextNode(e);t.appendChild(n),console.log(t),document.getElementById("fight-console").appendChild(t),document.getElementById("fight-console").scrollTo(0,document.getElementById("fight-console").scrollHeight)},updateHUD:function(){document.getElementById("player-name").innerHTML=m.player.name,document.getElementById("player-profession").innerHTML=m.player.profession,document.getElementById("player-defense-rating").innerHTML=m.player.AC,document.getElementById("player-hp").innerHTML=m.player.HP,document.getElementById("player-armor").innerHTML=m.player.armor.name,document.getElementById("player-weapon").innerHTML=m.player.weapon.name,document.getElementById("player-accuracy-bonus").innerHTML=m.player.toAttack,document.getElementById("player-xp").innerHTML=m.player.exp,document.getElementById("player-level").innerHTML=m.player.level},classButton:function(e){var t=document.createElement("BUTTON"),n=document.createTextNode(e);t.appendChild(n),t.classList.add("character-class"),t.setAttribute("data-class",e),t.addEventListener("click",()=>{alert(e),this.classSelected()}),document.getElementById("class-panel").appendChild(t)},classSelected:function(){document.getElementById("class-panel").classList.add("hidden"),document.getElementById("class-panel").classList.remove("flex")}},c={attack:function(e,t){if(o.throwD20()+e.toAttack>=t.AC){var n=e.weapon.damage();u.updateConsole(e.name+" has hit "+t.name+" for "+n+" damage"),t.takeHit(n)}else u.updateConsole(e.name+" missed")},fight:function(e,t){if(this.attack(e,t),!0===t.alive)this.attack(t,e);else{u.updateConsole(t.name+" has died");var n=50+2*t.HP;e.exp+=n,u.updateConsole("player earned "+n+" exp and has a total of "+e.exp+" exp")}!0===e.alive&&!0===t.alive&&(u.updateConsole(e.name+" has "+e.HP+" HP left"),u.updateConsole(t.name+" has "+t.HP+" HP left")),u.updateConsole("-----------------------------------------------------------------------"),u.updateHUD()}},d=[{name:"swordsman",url:"assets/"},{name:"pikeman",url:"assets/"},{name:"brawler",url:"assets/"},{name:"peasent",url:"assets/"},{name:"random",url:"assets/"}],p={player:{},enemy:{},classDisplay:function(){d.forEach(function(e){u.classButton(e.name)}),this.classSelect()},classSelect:function(e){this.init(e)},init:function(e){this.player=i.generateHero("player",e,1),this.enemy=i.generateEnemy("bad guy",3),console.log(this.player),console.log(this.enemy),u.updateConsole("Youve spawned with "+this.player.HP+" hit points armed with a "+this.player.weapon.name),u.updateConsole("In front of you stands a "+this.enemy.name+" with a "+this.enemy.weapon.name),u.updateHUD(),document.getElementById("fight").addEventListener("click",function(e){c.fight(p.player,p.enemy),!1===p.player.alive?(u.updateConsole(p.player.name+" has died"),u.updateConsole("-----------------------------------------------------------------------"),p.init()):!1===p.enemy.alive&&(p.enemy=i.generateEnemy("bad guy",3),console.log(p.enemy),u.updateConsole("a new bad guy appears"),u.updateConsole("In front of you stands a "+p.enemy.name+" with a "+p.enemy.weapon.name),u.updateConsole("-----------------------------------------------------------------------"))})}},m=p;r.generateList(),m.classDisplay()}]);
//# sourceMappingURL=bundle.js.map